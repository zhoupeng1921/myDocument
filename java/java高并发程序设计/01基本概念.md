# 几个重要概念

## 同步/异步

- 异步: 立即返回,开一个线程去执行
- 同步: 这一步执行完,去执行下一步



## 并发/并行

- 并行: 同时执行
- 并发: 间接执行



## 临界区

- 临界区用来表示一种公共资源或者共享数据,可以被多个线程使用,但是每一次,只能有一个线程占用它,一旦临界区资源被占用,其它线程想要使用这个资源,就必须等待。

## 阻塞/非阻塞

- 一个线程占用了临界区资源，其它所有需要这个资源的线程就必须在这个临界区进行等待，等待会造成线程挂起，这种情况就出现阻塞。
- 非阻塞允许多个线程同时进入临界区

## 死锁/饥饿/活锁

- 死锁：线程资源相互依赖，造成双方都无法释放。
- 活锁：为了避免死锁，双方同时释放自己所占资源，都获得了对方的资源，然后双方又同时释放了资源，又获得了对方的资源。
- 饥饿：无法获得所需要的资源导致一直无法执行。

## 并发级别

- 阻塞
  - 当一个线程进入临界区后，其它线程必须等待
- 无障碍
  - 无障碍是一种最弱的非阻塞调度
  - 自由出入临界区
  - 无竞争时，有限步完成操作
  - 有竞争时，回归数据
- 无锁
  - 是无障碍的
  - 保证有一个线程可以胜出
- 无等待
  - 无锁的
  - 要求所有的线程必须在有限步内完成
  - 无饥饿的

## 有关并行的两个定律

- Amdahl定律（阿姆达尔定律）

  - 定义了并行系统串行化后的加速比的计算公式和理论上限

  - 加速比定义：加速比= 优化前系统耗时/优化后系统耗时

    n代表处理器个数  T1代表串行时间  F代表串行比例 Tn表示并行后时间

    `Tn = T1(F+1/n*(1-F))`

  - ` T1`/`Tn`    如果F很接近1，增加处理器个数，并不一定能起到有效的作用提高系统内可并行化模块的比重，合理增加并行处理器数量，才能以最小的投入，得到最大的加速比